<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Bài 2 - Form Đăng Kí</title>
	<style>
		*{
			margin: 0;
		}
		header{
			width: 80%;
			height: 320px;
			margin: auto;
			border: 2px solid black;
			border-radius: 20px;
		}
		h2{
			text-align: center;
			margin: 10px;
		}

		.left{
			width: 20%;
			float: left;
		}
		p{
			margin: 22px;
		}

		.center{
			width: 50%;
			float: left;
		}
		input{
			width: 100%;
			margin-top: 4%;
			
		}

		.right{
			width: 30%;
			float: left;
		}
		span{
			margin-top: 10%;
		}
		.error{
			color: red;
			float: left;
			padding-left: 15%;
		}


		.gTinh > input{
			width: 4%;
			margin: 3% 0 0 0;
		}
		.footer{
			width: 80%;
			margin: auto;
		}
		#btn{
			background-color: red;
			font-weight: bold;
			font-size: 15px;
			color: #fff;
			margin: 3% 30% 0 28%;;
		}
		#reset{
			background-color: red;
			font-weight: bold;
			font-size: 15px;
			color: #fff;
		}
		#btn:hover , #reset:hover{
			background-color: #ccc;
			cursor: pointer;
			color: black;
		}
	</style>
</head>
<body>
	<header>
		<h2>From Đăng kí</h2>
		<div class="left">
			<p>Họ và tên</p>
			<p>Giới tính</p>
			<p>Email</p>
			<p>Số điện thoại</p>
			<p>Mật khẩu</p>
			<p>Xác nhận mật khẩu</p>
		</div>

		<div class="center">
			<input type="text" id="name" placeholder="Nhập họ và tên...">
			<div class="gTinh">
				<input name="gt" type="radio">Nam
				<input name="gt" type="radio">Nữ
			</div>
			<input type="text" id="email" placeholder="Nhập email...">
			<input type="text" id="sdt" placeholder="Nhập số điện thoại...">
			<input type="password" id="password">	
			<input type="password" id="pass">		
		</div>
		<div class="right">
			<span class="error">Yêu cầu nhập họ tên đầy đủ !</span>
			<span></span>
			<span class="error">Yêu cầu nhập email !</span>
			<span class="error">Yêu cầu nhập số điện thoại !</span>
			<span class="error">Yêu cầu nhập mật khẩu !</span>
			<span class="error">Yêu cầu xác nhận mật khẩu !</span>
		</div>
	</header>
	<div class="footer">
		<button id="btn">Đăng kí</button>
		<button id="reset">Xoá trắng</button>
	</div>
	<script type="text/javascript">
		var err = document.getElementsByClassName("error");
		var count=0;
		for (var i = 0; i < err.length; i++) {
			err[i].textContent = '';
		}
		var name = document.getElementById("name").addEventListener("keyup", function(){
			if(document.getElementById("name").value.length < 8) {
				err[0].textContent = 'Ten chua hop le';
			}else {
				err[0].textContent = '';
				count++;
			}
		});

		document.getElementById("email").addEventListener("keyup", function(){
			var ktra = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
			if(email.value == "" || !ktra.test(email.value)){
				err[1].textContent = 'Email chua hop le';
			}else {
				err[1].textContent = '';
				count++;
			}
		});

		var sdt = document.getElementById("sdt").addEventListener("keyup", function(){
			var ktra = /[0-9]/;
			if(phone.value == "" || !ktra.test(phone.value)){
				err[2].textContent = 'Số điện thoại k hợp lệ !';
			}else {
				err[2].textContent = '';
				count++;
			}
		});
		
		var password = document.getElementById("password").addEventListener("keyup", function(){
			if(password.value == '' || password.value.length < 6){
				err[3].textContent = 'Password không hơp lệ !';
			}else {
				err[3].textContent = '';
				count++;
			}
		});

		var pass =document.getElementById("pass").addEventListener("keyup", function(){
			if(pass.value != password.value){
				err[4].textContent = 'Password không khớp !';
			}else {
				err[4].textContent = '';
				count++;
			}
		});
		
		var btn =document.getElementById('btn').addEventListener("click", function(){
			if(count==5){
				alert('Đăng kí thành công !')
			}
			else{
				alert('Đăng kí thất bại !')
			}
		});

		var reset = document.getElementById('reset').addEventListener("click", function(){
			var inputFieldNames = ["name", "email", "sdt", "password", "pass"];
			var inputFields = inputFieldNames.map(ele => document.getElementById(ele));
			inputFields.forEach(ele => ele.value = "");	
		});
	</script>
</body>
</html>